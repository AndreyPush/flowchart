import{q as sn,P as V}from"./path-Crsf9Nsj-B0oSrkCJ.js";import{av as rn,aw as K,ax as R,ay as an,az as l,Y as un,aA as k,aB as J,aC as cn,aD as y,aE as on,aF as yn,aG as en}from"./index-DZ6-lXa1.js";function fn(s){return s.innerRadius}function ln(s){return s.outerRadius}function mn(s){return s.startAngle}function pn(s){return s.endAngle}function gn(s){return s&&s.padAngle}function xn(s,v,D,O,b,d,w,r){var E=D-s,o=O-v,n=w-b,p=r-d,a=p*E-n*o;if(!(a*a<l))return a=(n*(v-d)-p*(s-b))/a,[s+a*E,v+a*o]}function Z(s,v,D,O,b,d,w){var r=s-D,E=v-O,o=(w?d:-d)/k(r*r+E*E),n=o*E,p=-o*r,a=s+n,i=v+p,e=D+n,f=O+p,C=(a+e)/2,u=(i+f)/2,g=e-a,m=f-i,A=g*g+m*m,T=b-d,B=a*f-e*i,G=(m<0?-1:1)*k(en(0,T*T*A-B*B)),H=(B*m-g*G)/A,I=(-B*g-m*G)/A,z=(B*m+g*G)/A,x=(-B*g+m*G)/A,h=H-C,t=I-u,c=z-C,F=x-u;return h*h+t*t>c*c+F*F&&(H=z,I=x),{cx:H,cy:I,x01:-n,y01:-p,x11:H*(b/T-1),y11:I*(b/T-1)}}function bn(){var s=fn,v=ln,D=V(0),O=null,b=mn,d=pn,w=gn,r=null,E=sn(o);function o(){var n,p,a=+s.apply(this,arguments),i=+v.apply(this,arguments),e=b.apply(this,arguments)-an,f=d.apply(this,arguments)-an,C=cn(f-e),u=f>e;if(r||(r=n=E()),i<a&&(p=i,i=a,a=p),!(i>l))r.moveTo(0,0);else if(C>un-l)r.moveTo(i*K(e),i*R(e)),r.arc(0,0,i,e,f,!u),a>l&&(r.moveTo(a*K(f),a*R(f)),r.arc(0,0,a,f,e,u));else{var g=e,m=f,A=e,T=f,B=C,G=C,H=w.apply(this,arguments)/2,I=H>l&&(O?+O.apply(this,arguments):k(a*a+i*i)),z=J(cn(i-a)/2,+D.apply(this,arguments)),x=z,h=z,t,c;if(I>l){var F=on(I/a*R(H)),L=on(I/i*R(H));(B-=F*2)>l?(F*=u?1:-1,A+=F,T-=F):(B=0,A=T=(e+f)/2),(G-=L*2)>l?(L*=u?1:-1,g+=L,m-=L):(G=0,g=m=(e+f)/2)}var Y=i*K(g),_=i*R(g),P=a*K(T),S=a*R(T);if(z>l){var U=i*K(m),X=i*R(m),$=a*K(A),M=a*R(A),W;if(C<rn)if(W=xn(Y,_,$,M,U,X,P,S)){var N=Y-W[0],Q=_-W[1],j=U-W[0],q=X-W[1],nn=1/R(yn((N*j+Q*q)/(k(N*N+Q*Q)*k(j*j+q*q)))/2),tn=k(W[0]*W[0]+W[1]*W[1]);x=J(z,(a-tn)/(nn-1)),h=J(z,(i-tn)/(nn+1))}else x=h=0}G>l?h>l?(t=Z($,M,Y,_,i,h,u),c=Z(U,X,P,S,i,h,u),r.moveTo(t.cx+t.x01,t.cy+t.y01),h<z?r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,i,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!u),r.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!u))):(r.moveTo(Y,_),r.arc(0,0,i,g,m,!u)):r.moveTo(Y,_),!(a>l)||!(B>l)?r.lineTo(P,S):x>l?(t=Z(P,S,U,X,a,-x,u),c=Z(Y,_,$,M,a,-x,u),r.lineTo(t.cx+t.x01,t.cy+t.y01),x<z?r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,a,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),u),r.arc(c.cx,c.cy,x,y(c.y11,c.x11),y(c.y01,c.x01),!u))):r.arc(0,0,a,T,A,u)}if(r.closePath(),n)return r=null,n+""||null}return o.centroid=function(){var n=(+s.apply(this,arguments)+ +v.apply(this,arguments))/2,p=(+b.apply(this,arguments)+ +d.apply(this,arguments))/2-rn/2;return[K(p)*n,R(p)*n]},o.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:V(+n),o):s},o.outerRadius=function(n){return arguments.length?(v=typeof n=="function"?n:V(+n),o):v},o.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:V(+n),o):D},o.padRadius=function(n){return arguments.length?(O=n==null?null:typeof n=="function"?n:V(+n),o):O},o.startAngle=function(n){return arguments.length?(b=typeof n=="function"?n:V(+n),o):b},o.endAngle=function(n){return arguments.length?(d=typeof n=="function"?n:V(+n),o):d},o.padAngle=function(n){return arguments.length?(w=typeof n=="function"?n:V(+n),o):w},o.context=function(n){return arguments.length?(r=n??null,o):r},o}export{bn as v};
